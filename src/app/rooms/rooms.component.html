<div id="roomsDiv">

  <p class="backLink" (click)="goBack()">‚Üê go back to bookable items</p>

  <button mat-button mat-stroked-button color="primary" (click)="handleCreateRoomClick()">Create room</button>
  <button mat-button mat-stroked-button color="primary" (click)="handleCreateRoomClick2()">Create room 2</button>
  <button mat-button mat-stroked-button color="primary" (click)="handleCreateRoomClick3()">Create room 3</button>
  <button *ngIf="this.selected && this.selected.length > 1" mat-stroked-button color="primary"
    (click)="logStore()">Multi-Action</button>
  <button *ngIf="this.selected && this.selected.length > 1" mat-stroked-button color="primary"
    (click)="deleteSelected()">Delete Selected</button>
  <button *ngIf="this.selected && this.selected.length > 1 && filter && filter.date && filter.from && filter.to"
    mat-stroked-button color="primary" (click)="multipleBook3()">Book Multiple Rooms</button>

  <br>
  <br>

  <app-room-filter></app-room-filter>

  <br>





  <app-room-card *ngFor="let r of filteredRooms" [room]="r"
                 [selected]="selected" (checkboxEvent)="handleCheckBoxEvent($event)"></app-room-card>




  <mat-card *ngFor="let r of filteredRooms" routerLink="/rooms/{{r.id}}">
    <div class="matHeader">
      <mat-checkbox align="end" [checked]="selected &&selected.includes(r.id)" (click)="stopProp($event)"
        (change)="handleCheckBoxChange($event, r.id)"></mat-checkbox>
    </div>

    <mat-card-title>Room {{ r.id }} -- {{r.name}}</mat-card-title>

    <mat-card-subtitle>
      <span *ngIf="r.capacity<=4" class="room-feature-icon">
        <i class="bi bi-person"></i>
      </span>

      <span *ngIf="r.capacity > 4 && r.capacity < 10" class="room-feature-icon">
        <i class="bi bi-person"></i>
        <i class="bi bi-person"></i>
      </span>
      <span *ngIf="r.capacity >= 10" class="room-feature-icon">
        <i class="bi bi-person"></i>
        <i class="bi bi-person"></i>
        <i class="bi bi-person"></i>
      </span>

      <span class="room-feature-icon" *ngIf="r.airConditioning">
        <i class="bi bi-snow"></i>
      </span>
      <span class="room-feature-icon" *ngIf="r.whiteboard">
        <i class="bi bi-easel"></i>
      </span>
      <span class="room-feature-icon" *ngIf="r.display">
        <i class="bi bi-display"></i>
      </span>
    </mat-card-subtitle>

    <mat-card-actions align="end">
      <button mat-stroked-button color="primary" (click)="modifyRoom($event, r.id)">Modify room</button>
    </mat-card-actions>
  </mat-card>

</div>
